# 多機能nodeプログラム
かずなみが作っているDiscord.jsのbot、YouTube DownloaderやFFmpeg Converterなどの、  
様々なプログラムをまとめたかずなみ史上最強の「Various Programs」です。

### 雑談
自分はJavaScript中級者。c#もまともに書けないビギナープログラマーだけど、夢がある。  
それは沢山の様々なアプリを開発すること。  
なんかc++とか使ってる人って凄いよね...いつかはそんなリポジトリにしたいなって思ってる  
要するに、サーバーとして使っているnodeを自作のexeにするということ。  
高効率だけど色々出来るようなアプリを、自分で開発するのが自分の夢...  
今はJavaScriptという作りやすいけど重たいプログラムだけど、まずはc#、その次にc++って感じで、  
どんどんこのリポジトリを進化させたいなと思っています！  
ちなみにほぼ自分の自己満プログラムなんで、どっか適当なとこありますが、そこは指摘してくれれば治して見せます！

### 使い方
このプログラムは様々な機能があります。  
そしてその使い方はとても直観的。GUIで操作が可能です。  
`node main` でプログラムを開始、`http://localhost`にアクセスすると、ホームページという名のアクセス場所が表示されます。  
そこで、自分が使用したい機能等を選択して、操作を開始することが出来ます。  
使い方が分からない。思ったように動かないという場合、どんな方でもお気軽にIssuesへ。  
日本語でなくても構いません。Google 翻訳で読ませていただきます。

### 利用時のトラブルについて
もしこのプログラムでデータを失ってしまった場合、それはあなたの責任としますが、その経緯について僕に報告していただけると再発防止に、取り組ませていただきます。

エラーが起きてしまったり何かしらのバグがある、表示の乱れなどが起こっている場合は、Issuesで報告・相談して構いません。ただ、それに答えるかどうかは僕の自己判断とさせてただきます。
何か不満点がある場合も相談していただいて構いませんが、こちらもまた答えるかどうかはわかりません。ただ、なるべく解決できるよう心がけます。もちろん使っているJSONデータをいただく場合もあります。ご了承ください。
Pull Requestも大歓迎です！僕から何も返すことが出来ませんが、そのような協力をしてくれた場合は精一杯活用させていただきます。

ちなみに、このプログラムはまだ開発中のため、トラブルしか起こらないと思いますので、こちらのリポジトリをご覧になってもご利用いただかないことを推奨します。

### main.tsのプログラムの仕組み・仕様や操作方法
main.tsが次期プログラムです。様々なコードを入れてあります。  
使用方法を紹介しますが、その前にプログラムの改善や書き方を書いていきます。
##### 書き方や改善する際の注意点
このプログラムは主にcuiIOとexpressdの２つのプログラムがあります。cuiIOは文字通りターミナルやプロンプトでの操作を目的とした関数です。expressdはexpressを利用したサイト上での操作を可能としたクラスです。
cuiIOはts-libraryにあるプログラムたちとユーザーとの架け橋でしかありませんので、cuiIOに独自のプログラムを追加しないでください。基本的にcuiIOは関数の利用やクラスの利用に必要なデータを受け取り、処理をして結果を返すことを目的としているため、処理内容はts-library内にファイルを生成して書き込むようにしましょう。さらに、cuiIOは基本シングルタスクを推奨しており、マルチタスクにする場合は、進行状況や操作を中止するなどの選択肢を設ける必要があり、また丸とタスクをする際にはshareDataを利用してください。不適切なマルチタスクはシャットダウン時のフリーズにつながりますので、適切なasync/awaitやPromiseをご利用ください。  
expressdもまたts-libraryとの架け橋に過ぎませんが、直感的に操作ができることを目標とし、現在土台の作成に取り組んでいます。目指すはデスクトップ風、dataIOをファイルマネージャーとして利用できる擬似OSを想像して、ウィンドウプロセスやドラック操作など、様々な機能を作成する準備に取り組んでいます。お楽しみに。
最後に、全プログラム内に「;」を基本使いません。しかし、僕が気が向いたらつけるので、プログラムの見た目次第でご自由に。
##### shareData の利用方法
shareDataはts-library/vpManageClass.tsファイルにあります。以下のように利用します。重複を防止するため、ジェネリクス系統は禁止です。
```typescript
interface shareData {
    [programName: string]: any // ここに様々なオブジェクトやデータ等、functionもok
    discordBot: discordBot.discordRealTimeData // 例としてクラス型を入れる。
    setting: { // 例として設定の一時データを保存することもできる。
        status?: boolean
    }
    hogeProgram: { // テストコードのための型定義
        func: (typeof (Anonymous class))
    }
}
const shareData: shareData = {
    hogeProgram: {
        func: new class {
            set = 0
            constructor() { }
            start() {
                set = 1
            }
            stop() {
                set = 0
            }
        }
    }
}
shareDate.hogeProgram.func.start() // テストコードが浮かばない
```
こうすることにより、cuiIOとexpressdでデータを共有したり、実行中のデータを保存することができます。ですが、突然の終了時にデータが損失するのを免れるために、なるべくdataIOを利用して保存を行なってください。

##### 操作方法
現在はcuiIOがメインの操作方法です。  
`npm run start`で起動します。すると一覧が表示されるので、番号で入力します。
その中でよく利用するパス入力ですが、ドラッグ入力に対応しています。(「""」や「''」などのクオーテーションや「\\(」などの記号のパースに対応)
booleanIOというのを利用したプログラムの場合、yやyes、trueなどで正(はい)を入力し、負(いいえ)は未入力や正にならないような文字列にて入力することができます。
文字列入力などで予想外のエラーが発生した場合は最初の画面に戻されることがほとんどです。
