# 多機能nodeプログラム
かずなみが作っているDiscord.jsのbot、YouTube DownloaderやFFmpeg Converterなどの、  
様々なプログラムをまとめたかずなみ史上最強の「Various Programs」です。

### 雑談
自分はJavaScript中級者。c#もまともに書けないビギナープログラマーだけど、夢がある。  
それは沢山の様々なアプリを開発すること。  
なんかc++とか使ってる人って凄いよね...いつかはそんなリポジトリにしたいなって思ってる  
要するに、サーバーとして使っているnodeを自作のexeにするということ。  
高効率だけど色々出来るようなアプリを、自分で開発するのが自分の夢...  
今はJavaScriptという作りやすいけど重たいプログラムだけど、まずはc#、その次にc++って感じで、  
どんどんこのリポジトリを進化させたいなと思っています！  
ちなみにほぼ自分の自己満プログラムなんで、どっか適当なとこありますが、そこは指摘してくれれば治して見せます！

### 使い方
このプログラムは様々な機能があります。  
そしてその使い方はとても直観的。GUIで操作が可能です。  
`node main` でプログラムを開始、`http://localhost`にアクセスすると、ホームページという名のアクセス場所が表示されます。  
そこで、自分が使用したい機能等を選択して、操作を開始することが出来ます。  
使い方が分からない。思ったように動かないという場合、どんな方でもお気軽にIssuesへ。  
日本語でなくても構いません。Google 翻訳で読ませていただきます。

### 利用時のトラブルについて
もしこのプログラムでデータを失ってしまった場合、それはあなたの責任としますが、その経緯について僕に報告していただけると再発防止に、取り組ませていただきます。

エラーが起きてしまったり何かしらのバグがある、表示の乱れなどが起こっている場合は、Issuesで報告・相談して構いません。ただ、それに答えるかどうかは僕の自己判断とさせてただきます。
何か不満点がある場合も相談していただいて構いませんが、こちらもまた答えるかどうかはわかりません。ただ、なるべく解決できるよう心がけます。もちろん使っているJSONデータをいただく場合もあります。ご了承ください。
Pull Requestも大歓迎です！僕から何も返すことが出来ませんが、そのような協力をしてくれた場合は精一杯活用させていただきます。

ちなみに、このプログラムはまだ開発中のため、トラブルしか起こらないと思いますので、こちらのリポジトリをご覧になってもご利用いただかないことを推奨します。

### main.tsのプログラムの仕組み・仕様や操作方法
main.tsが次期プログラムです。様々なコードを入れてあります。  
使用方法を紹介しますが、その前にプログラムの改善や書き方を書いていきます。
##### 書き方や改善する際の注意点
プログラム内に「;」を基本使いません。しかし、僕が気が向いたらつけるので、自由に。
次に、cuiIOというものがありますが、そちらにプログラムを書きすぎないでください。関数として利用して、cuiIOは名前の通りのものであり、容器です。
プログラムを改善する際に、必ずsumtoolを書き換えてください。その後に大きな機能変更があった際にはcuiIOに関数を追加したり、受け取るデータの追加をしていきます。
なるべくプロセスを非同期関数にしてください。パフォーマンスは低下し、エラーが発生する可能性が上がりますが、同時に実行した際にフリーズを回避できます。
そして、cuiIOではawaitとPromiseを利用してください。そうでない場合バッググラウンドで動作をすることになり、停止したかどうかを判断する方法が容易ではなくなるため、cuiIOとしても秩序が乱れます。
cuiIOでは、バッググラウンド動作を除いて最初の画面に戻った際、なるべくプロセスの中断や使用されたデータの破棄が行われた後に最初の画面に戻るようにしてください。データが残ったままアクセスする術もないまま戻ってしまった場合、その実行データが常に走ってしまうことになり、負荷が増大してしまいます。必ずバッググラウンド動作をする際は、特定の共有変数「shareData」に格納してください。そして、必ずユーザーがその実行データを破棄できるようにしてください。例: プロセスを中止(これだけでそのプログラムにおいて、全てのバックグラウンドが落ちるようにコードを組みます。)
shareDataは以下のように利用します。重複を防止するため、ジェネリクス系統は禁止です。
```typescript
interface shareData<T> {
    [programName: string]: T //ここに様々なオブジェクトやデータ等、functionもok
}
const shareData: shareData: {
    hogeProgram?: {
        func: (typeof (Anonymous class))
    }
} = {
    hogeProgram: {
        func: new class {
            set = 0
            constructor() { }
            start() {
                set = 1
            }
            stop() {
                set = 0
            }
        }
    }
}
shareDate.hogeProgram.func.start() //テストコードが浮かばない
```
こうすることにより、cuiIOとguiIOでデータを共有したり、実行中のデータを保存することができます。ですが、突然の終了時にデータが損失するのを免れるために、なるべくdataIOを利用して保存を行なってください。

##### 操作方法
現在はcuiIOがメインの操作方法です。  
`npx ts-node main.ts`で起動します。すると一覧が表示されるので、番号で入力します。
その中でよく利用するパス入力ですが、ドラッグ入力に対応しています。(「""」や「''」などのクオーテーションや「\\(」などの記号のパースに対応)
booleanIOというのを利用したプログラムの場合、yやyes、trueなどで正(はい)を入力し、負(いいえ)は未入力や正にならないような文字列にて入力することができます。
文字列入力などで予想外のエラーが発生した場合は最初の画面に戻されることがほとんどです。
